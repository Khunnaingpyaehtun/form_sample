<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Myanmar Emergency Relief Assessment</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(to right, #eef2f3, #8e9eab);
            margin: 0;
            padding: 40px 20px;
        }
        .form-container {
            max-width: 640px;
            margin: auto;
            background: white;
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        .logo-container {
            text-align: center;
            margin-bottom: 20px;
        }
        .logo-container img {
            max-width: 200px;
            width: 100%;
            height: auto;
        }
        h2 {
            text-align: center;
            font-weight: 600;
            margin-bottom: 30px;
            font-size: 24px;
            color: #333;
        }
        label {
            font-weight: 600;
            display: block;
            margin: 15px 0 8px;
        }
        input, select, textarea {
            width: 100%;
            padding: 12px;
            margin-bottom: 20px;
            border: 1px solid #ccc;
            border-radius: 8px;
            font-size: 14px;
        }
        textarea { resize: vertical; }
        .form-step { display: none; }
        .form-step.active { display: block; }
        .fancy-checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        .fancy-option {
            display: flex;
            align-items: center;
            background: #f0f0f0;
            border-radius: 12px;
            padding: 10px 18px;
            cursor: pointer;
            transition: background 0.3s;
        }
        .fancy-option input[type="checkbox"] { display: none; }
        .fancy-option span { font-size: 14px; }
        .fancy-option.active { background: #cce5ff; }
        .button-group {
            display: flex;
            justify-content: space-between;
            gap: 10px;
        }
        button {
            flex: 1;
            padding: 12px;
            font-weight: bold;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 15px;
            cursor: pointer;
            transition: background 0.2s;
        }
        button:hover { background: #0056b3; }
        .tiny-redirect-btn {
            background: transparent;
            border: none;
            padding: 0;
        }
        .tiny-redirect-btn img {
            width: 32px;
            height: 32px;
        }
    </style>
</head>
<body>
<div class="form-container">
    <div class="logo-container">
        <img src="https://raw.githubusercontent.com/Khunnaingpyaehtun/form_sample/main/Logo.png" alt="Logo">
    </div>
    <h2>Smart Earthquake Relief Assessment</h2>
    <form id="needForm">
        <div class="form-step" id="step1">
            <label for="region">တိုင်း/ပြည်နယ်</label>
            <select id="region" name="region">
                <option value="">ရွေးချယ်ပါ...</option>
                <option value="စစ်ကိုင်းတိုင်း">စစ်ကိုင်းတိုင်းဒေသကြီး</option>
                <option value="မန္တလေးတိုင်း">မန္တလေးတိုင်းဒေသကြီး</option>
                <option value="ရန်ကုန်တိုင်း">ရန်ကုန်တိုင်းဒေသကြီး</option>
                <option value="ပဲခူးတိုင်း">ပဲခူးတိုင်းဒေသကြီး</option>
                <option value="မကွေးတိုင်း">မကွေးတိုင်းဒေသကြီး</option>
                <option value="ဧရာဝတီတိုင်း">ဧရာဝတီတိုင်းဒေသကြီး</option>
                <option value="တနင်္သာရီတိုင်း">တနင်္သာရီတိုင်းဒေသကြီး</option>
                <option value="ကချင်ပြည်နယ်">ကချင်ပြည်နယ်</option>
                <option value="ကယားပြည်နယ်">ကယားပြည်နယ်</option>
                <option value="ကရင်ပြည်နယ်">ကရင်ပြည်နယ်</option>
                <option value="ချင်းပြည်နယ်">ချင်းပြည်နယ်</option>
                <option value="မွန်ပြည်နယ်">မွန်ပြည်နယ်</option>
                <option value="ရခိုင်ပြည်နယ်">ရခိုင်ပြည်နယ်</option>
                <option value="ရှမ်းပြည်နယ်">ရှမ်းပြည်နယ်</option>
                <option value="ကယန်းပြည်နယ်">ကယန်းပြည်နယ် (ရှမ်းပြည်နယ်အတွင်း)</option>
                <option value="ပအိုဝ်းကိုယ်ပိုင်အုပ်ချုပ်ခွင့်ရဒေသ">ပအိုဝ်းကိုယ်ပိုင်အုပ်ချုပ်ခွင့်ရဒေသ (ရှမ်းပြည်နယ်အတွင်း)</option>
                <option value="ဓနုကိုယ်ပိုင်အုပ်ချုပ်ခွင့်ရဒေသ">ဓနုကိုယ်ပိုင်အုပ်ချုပ်ခွင့်ရဒေသ (ရှမ်းပြည်နယ်အတွင်း)</option>
                <option value="ကိုးကန့်ကိုယ်ပိုင်အုပ်ချုပ်ခွင့်ရဒေသ">ကိုးကန့်ကိုယ်ပိုင်အုပ်ချုပ်ခွင့်ရဒေသ (ရှမ်းပြည်နယ်အတွင်း)</option>
                <option value="ဝကိုယ်ပိုင်အုပ်ချုပ်ခွင့်ရတိုင်း">ဝကိုယ်ပိုင်အုပ်ချုပ်ခွင့်ရတိုင်း (ရှမ်းပြည်နယ်အတွင်း)</option>
                <option value="ပလောင်ကိုယ်ပိုင်အုပ်ချုပ်ခွင့်ရဒေသ">ပလောင်ကိုယ်ပိုင်အုပ်ချုပ်ခွင့်ရဒေသ (ရှမ်းပြည်နယ်အတွင်း)</option>
            </select>

            <label for="district">ခရိုင်/မြို့နယ်</label>
            <select id="district" name="district" disabled>
                <option value="">တိုင်း/ပြည်နယ်ကို အရင်ရွေးပါ</option>
            </select>

            <label for="city">မြို့နယ်</label>
            <select id="city" name="city" disabled>
                <option value="">ခရိုင်/မြို့နယ်ကို အရင်ရွေးပါ</option>
            </select>
               <div class="button-group">
                <span></span>
                <button type="button" onclick="nextStep()">Next</button>
            </div>
        </div>
        
        <div class="form-step active" id="step2">
            <label>လိုအပ်ချက်များ (ရွေးချယ်ပါ)</label>
            <div class="fancy-checkbox-group">
                <label class="fancy-option"><input type="checkbox" name="needs[]" value="စားနပ်ရိက္ခာ"><span>စားနပ်ရိက္ခာ</span></label>
                <label class="fancy-option"><input type="checkbox" name="needs[]" value="ရေ"><span>ရေ</span></label>
                <label class="fancy-option"><input type="checkbox" name="needs[]" value="သန့်ရှင်းရေး"><span>သန့်ရှင်းရေး</span></label>
                <label class="fancy-option"><input type="checkbox" name="needs[]" value="ဆေးဝါးနှင့်ကျန်းမာရေး"><span>ဆေးဝါးနှင့်ကျန်းမာရေး</span></label>
                <label class="fancy-option"><input type="checkbox" name="needs[]" value="ငွေကြေး"><span>ငွေကြေး</span></label>
                <label class="fancy-option"><input type="checkbox" name="needs[]" value="အမိုးအကာ"><span>အမိုးအကာ</span></label>
            </div>
         <div class="button-group">
                <button type="button" onclick="prevStep()">Back</button>
                <button type="button" onclick="nextStep()">Next</button>
            </div>
        </div>

        <div class="form-step" id="step3">
            <label for="situation">လက်ရှိအခြေအနေ</label>
            <select id="situation" name="situation">
                <option value="">ရွေးချယ်ပါ...</option>
                <option value="1">အရေးတကြီး လိုအပ်</option>
                <option value="2">အလွန်လိုအပ်</option>
                <option value="3">လိုအပ်</option>
            </select>
            <div class="button-group">
                <button type="button" onclick="prevStep()">Back</button>
                <button type="button" onclick="nextStep()">Next</button>
            </div>
        </div>

        <div class="form-step" id="step4">
            <label for="detail">အသေးစိတ်ဖော်ပြချက်</label>
            <textarea id="detail" name="detail" rows="4"></textarea>
            <div class="button-group">
                <button type="button" onclick="prevStep()">Back</button>
                <button type="submit">Submit</button>
                <button class="tiny-redirect-btn" type="button" onclick="gotoKoBo()">
                    <img src="https://raw.githubusercontent.com/Khunnaingpyaehtun/form_sample/main/icon.jpeg" alt="Go">
                </button>
            </div>
        </div>
    </form>
</div>

        

<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>

<script>
    const firebaseConfig = {
        apiKey: "YOUR_API_KEY", // Replace with your actual API key
        authDomain: "YOUR_PROJECT_ID.firebaseapp.com", // Replace with your actual auth domain
        databaseURL: "https://YOUR_PROJECT_ID-default-rtdb.asia-southeast1.firebasedatabase.app", // Replace with your actual database URL
        projectId: "YOUR_PROJECT_ID", // Replace with your actual project ID
        messagingSenderId: "YOUR_MESSAGING_SENDER_ID", // Replace with your actual messaging sender ID
        appId: "YOUR_APP_ID", // Replace with your actual app ID
        measurementId: "YOUR_MEASUREMENT_ID" // Replace with your actual measurement ID (optional)
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    let latitude = "";
    let longitude = "";

    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(position => {
            latitude = position.coords.latitude;
            longitude = position.coords.longitude;
        }, () => console.warn('Location access denied.'));
    }

    document.querySelectorAll('.fancy-option input[type="checkbox"]').forEach(input => {
        input.addEventListener('change', function() {
            if (this.checked) {
                this.closest('.fancy-option').classList.add('active');
            } else {
                this.closest('.fancy-option').classList.remove('active');
            }
        });
    });

    const regionSelect = document.getElementById('region');
    const districtSelect = document.getElementById('district');
    const citySelect = document.getElementById('city');

    const regionsData = {
        "စစ်ကိုင်းတိုင်း": {
            "မုံရွာခရိုင်": ["မုံရွာ", "အရာတော်", "ဘုတလင်", "ဒီပဲယင်း", "ချောင်းဦး", "ညောင်တုန်း"],
            "ရွှေဘိုခရိုင်": ["ရွှေဘို", "ခင်ဦး", "ဝက်လက်", "တန့်ဆည်", "ရေဦး"],
            "ကလေးခရိုင်": ["ကလေး", "ကလေးဝ", "မင်းကင်း"],
            "တမူးခရိုင်": ["တမူး"],
            "ဖားကန့်ခရိုင်": ["ဖားကန့်"],
            "ဟုမ္မလင်းခရိုင်": ["ဟုမ္မလင်း"],
            "ခန္တီးခရိုင်": ["ခန္တီး"],
            "မော်လိုက်ခရိုင်": ["မော်လိုက်"]
        },
        "မန္တလေးတိုင်း": {
            "မန္တလေးခရိုင်": ["အောင်မြေသာစံ", "ချမ်းအေးသာစံ", "ချမ်းမြသာစည်", "မဟာအောင်မြေ", "ပြည်ကြီးတံခွန်", "အမရပူရ", "ပုသိမ်ကြီး"],
            "ပြင်ဦးလွင်ခရိုင်": ["ပြင်ဦးလွင်", "မိုးကုတ်", "သပိတ်ကျင်း", "မတ္တရာ", "စဉ့်ကူး", "စဉ့်ကိုင်"],
            "ကျောက်ဆည်ခရိုင်": ["ကျောက်ဆည်", "မြစ်သား", "တံတားဦး"],
            "မိတ္ထီလာခရိုင်": ["မိတ္ထီလာ", "မလှိုင်", "သာစည်", "ဝမ်းတွင်း"],
            "မြင်းခြံခရိုင်": ["မြင်းခြံ", "နွားထိုးကြီး", "တောင်သာ"],
            "ညောင်ဦးခရိုင်": ["ညောင်ဦး", "ကျောက်ပန်းတောင်း"]
        },
        "ရန်ကုန်တိုင်း": {
            "ရန်ကုန် အရှေ့ပိုင်းခရိုင်": ["ဗိုလ်တထောင်", "ဒဂုံ", "ပုဇွန်တောင်", "တာမွေ", "မင်္ဂလာတောင်ညွန့်", "အိုက္ကလာပတောင်ပိုင်း", "သင်္ဃန်းကျွန်း", "ဒေါပုံ", "အရှေ့ဒဂုံ", "မြောက်ဒဂုံ", "တောင်ဒဂုံ", "သင်္ဃန်းကျွန်း(တောင်)"],
            "ရန်ကုန် အနောက်ပိုင်းခရိုင်": ["အလုံ", "ဒဂုံ", "ပန်းဘဲတန်း", "ကျောက်တံတား", "လသာ", "လမ်းမတော်", "ဆိပ်ကမ်း", "ကြည့်မြင်တိုင်", "စမ်းချောင်း", "ဗဟန်း", "လှိုင်", "ကမာရွတ်"],
            "ရန်ကုန် တောင်ပိုင်းခရိုင်": ["ကျောက်တန်း", "တွံတေး", "ကွမ်းခြံကုန်း", "ဒလ", "ဆိပ်ကြီးခနောင်တို"],
            "ရန်ကုန် မြောက်ပိုင်းခရိုင်": ["အင်းစိန်", "မင်္ဂလာဒုံ", "ရွှေပြည်သာ", "လှိုင်သာယာ", "မှော်ဘီ", "ထန်းတပင်", "တိုက်ကြီး"],
        },
        "ပဲခူးတိုင်း": {
            "ပဲခူးခရိုင်": ["ပဲခူး", "ဝေါ", "သနပ်ပင်", "ကဝ", "ညောင်လေးပင်"],
            "တောင်ငူခရိုင်": ["တောင်ငူ", "ရေတာရှည်", "အုတ်တွင်း", "ဖြူး"],
            "ပြည်ခရိုင်": ["ပြည်", "ပန်းတောင်း", "ပေါက်ခေါင်း", "ရွှေတောင်"],
            "သာယာဝတီခရိုင်": ["သာယာဝတီ", "မင်းလှ", "လက်ပံတန်း", "နတ်တလင်း", "မိုးညို", "ကြို့ပင်ကောက်"]
        },
        "မကွေးတိုင်း": {
            "မကွေးခရိုင်": ["မကွေး", "မြို့သစ်", "ချောက်", "ရေနံချောင်း", "တောင်တွင်းကြီး"],
            "ပခုက္ကူခရိုင်": ["ပခုက္ကူ", "မြိုင်", "ရေစကြို", "နတ်မောက်"],
            "သရက်ခရိုင်": ["သရက်", "အောင်လံ", "မင်းတုန်း", "ဆင်ဖြူရှင်"],
            "မင်းဘူးခရိုင်": ["မင်းဘူး", "ပွင့်ဖြူ", "စလင်း", "ဆော"],
            "ဂန့်ဂေါခရိုင်": ["ဂန့်ဂေါ", "ထီးလင်း", "ဆိပ်ဖြူ"]
        },
        "ဧရာဝတီတိုင်း": {
            "ပုသိမ်ခရိုင်": ["ပုသိမ်", "ငသိုင်းချောင်း", "ကျုံပျော်", "ကန်ကြီးထောင့်"],
            "မြောင်းမြခရိုင်": ["မြောင်းမြ", "အိမ်မဲ", "ဝါးခယ်မ"],
            "မအူပင်ခရိုင်": ["မအူပင်", "ဒေးဒရဲ", "ပန်းတနော်"],
"ဟင်္သာတခရိုင်": ["ဟင်္သာတ", "ဇလွန်", "လေးမျက်နှာ", "မြန်အောင်"],
"ကျုံပျော်ခရိုင်": ["ကျုံပျော်", "မော်လမြိုင်ကျွန်း"],
"ဖျာပုံခရိုင်": ["ဖျာပုံ", "ဘိုကလေး"]
},
"တနင်္သာရီတိုင်း": {
"ထားဝယ်ခရိုင်": ["ထားဝယ်", "လောင်းလုံး", "သရက်ချောင်း"],
"မြိတ်ခရိုင်": ["မြိတ်", "ပုလော", "တနင်္သာရီ"],
"ကော့သောင်းခရိုင်": ["ကော့သောင်း", "ဘုတ်ပြင်း"]
},
"ကချင်ပြည်နယ်": {
"မြစ်ကြီးနားခရိုင်": ["မြစ်ကြီးနား", "ဝိုင်းမော်", "ဖားကန့်", "ဆွမ်ပရာဘွမ်"],
"ဗန်းမော်ခရိုင်": ["ဗန်းမော်", "မံစီ", "ရွှေကူ", "မိုးမောက်"],
"ပူတာအိုခရိုင်": ["ပူတာအို", "နောင်မွန်", "ခေါင်လန်ဖူး", "မချမ်းဘော", "ဆောလော်"]
},
"ကယားပြည်နယ်": {
"လွိုင်ကော်ခရိုင်": ["လွိုင်ကော်", "ဒီးမော့ဆို", "ဖရူဆို", "ဘောလခဲ", "ရှားတော", "ဖားဆောင်း"]
},
"ကရင်ပြည်နယ်": {
"ဘားအံခရိုင်": ["ဘားအံ", "လှိုင်းဘွဲ့", "သံတောင်ကြီး"],
"မြဝတီခရိုင်": ["မြဝတီ"],
"ကော့ကရိတ်ခရိုင်": ["ကော့ကရိတ်"],
"သံတောင်ကြီးခရိုင်": ["သံတောင်"]
},
"ချင်းပြည်နယ်": {
"ဖလမ်းခရိုင်": ["ဖလမ်း", "တွန်းဇံ", "ရိခေါင်ဒါရ်"],
"ဟားခါးခရိုင်": ["ဟားခါး", "ထန်တလန်"],
"မင်းတပ်ခရိုင်": ["မင်းတပ်", "ကန်ပက်လက်", "မတူပီ"]
},
"မွန်ပြည်နယ်": {
"မော်လမြိုင်ခရိုင်": ["မော်လမြိုင်", "ချောင်းဆုံ", "မုဒုံ", "သံဖြူဇရပ်"],
"သထုံခရိုင်": ["သထုံ", "ပိုင်ကျုံ", "ဘီးလင်း", "ကျိုက်ထို"]
},
"ရခိုင်ပြည်နယ်": {
"စစ်တွေခရိုင်": ["စစ်တွေ", "ပေါက်တော", "ရသေ့တောင်"],
"ဘူးသီးတောင်ခရိုင်": ["ဘူးသီးတောင်", "မောင်တော"],
"ကျောက်ဖြူခရိုင်": ["ကျောက်ဖြူ", "အမ်း", "ရမ်းဗြဲ"],
"သံတွဲခရိုင်": ["သံတွဲ", "ဂွ", "တောင်ကုတ်", "မာန်အောင်"]
},
"ရှမ်းပြည်နယ်": {
"တောင်ကြီးခရိုင်": ["တောင်ကြီး", "ညောင်ရွှေ", "ဟိုပုံး", "ဆီဆိုင်", "ပင်လောင်း", "ဖယ်ခုံ"],
"လွိုင်လင်ခရိုင်": ["လွိုင်လင်", "နမ့်စန်", "ကျေးသီး", "မိုင်းကိုင်", "ကွန်ဟိန်း", "လင်းခေး", "မိုးနဲ", "လဲချား", "မိုင်းပန်"],
"ကျိုင်းတုံခရိုင်": ["ကျိုင်းတုံ", "မိုင်းဖြတ်", "မိုင်းလား", "မိုင်းယောင်း", "မိုင်းခတ်", "မိုင်းဆတ်"],
"လားရှိုးခရိုင်": ["လားရှိုး", "သိန္နီ", "မိုးမိတ်", "နမ့်ခမ်း", "ကွတ်ခိုင်", "မူဆယ်", "နမ့်တူ"],
"တာချီလိတ်ခရိုင်": ["တာချီလိတ်", "မိုင်းဖြတ်(တောင်ပိုင်း)", "မိုင်းယောင်း(တောင်ပိုင်း)"]
},
"ကယန်းပြည်နယ်": {"လွိုင်ကော်ခရိုင်": ["ဖရူဆို", "ရှားတော"]
},
"ပအိုဝ်းကိုယ်ပိုင်အုပ်ချုပ်ခွင့်ရဒေသ": {"တောင်ကြီးခရိုင်": ["ဟိုပုံး", "ဆီဆိုင်", "ပင်လောင်း"]
},
"ဓနုကိုယ်ပိုင်အုပ်ချုပ်ခွင့်ရဒေသ": {
"တောင်ကြီးခရိုင်": ["ရွာငံ", "ပင်းတယ"]
},
"ကိုးကန့်ကိုယ်ပိုင်အုပ်ချုပ်ခွင့်ရဒေသ": {
"လားရှိုးခရိုင်": ["လောက်ကိုင်", "ကွမ်းလုံ"]
},
"ဝကိုယ်ပိုင်အုပ်ချုပ်ခွင့်ရတိုင်း": {
"လားရှိုးခရိုင်": ["ဟိုပန်", "မိုင်းမော", "ပန်ဆန်း(ပန်ခမ်း)"]
},
"ပလောင်ကိုယ်ပိုင်အုပ်ချုပ်ခွင့်ရဒေသ": {
"လားရှိုးခရိုင်": ["နမ့်ဆန်", "မန်တုံ", "နမ့်ပိန်း"]
}
};regionSelect.addEventListener('change', function() {
    const selectedRegion = this.value;
    districtSelect.innerHTML = '<option value="">ရွေးချယ်ပါ...</option>';
    citySelect.innerHTML = '<option value="">မြို့နယ်ကို ရွေးပါ...</option>';
    citySelect.disabled = true;

    if (regionsData[selectedRegion]) {
        const districts = Object.keys(regionsData[selectedRegion]);
        districts.forEach(district => {
            const option = document.createElement('option');
            option.value = district;
            option.textContent = district;
            districtSelect.appendChild(option);
        });
        districtSelect.disabled = false;
    } else {
        districtSelect.disabled = true;
    }
});

districtSelect.addEventListener('change', function() {
    const selectedRegion = regionSelect.value;
    const selectedDistrict = this.value;
    citySelect.innerHTML = '<option value="">မြို့နယ်ကို ရွေးပါ...</option>';

    if (regionsData[selectedRegion] && regionsData[selectedRegion][selectedDistrict]) {
        const townships = regionsData[selectedRegion][selectedDistrict];
        townships.forEach(township => {
            const option = document.createElement('option');
            option.value = township;
            option.textContent = township;
            citySelect.appendChild(option);
        });
        citySelect.disabled = false;
    } else {
        citySelect.disabled = true;
    }
});

document.getElementById('needForm').addEventListener('submit', function(e) {
    e.preventDefault();

    const needs = Array.from(document.querySelectorAll("input[name='needs[]']:checked")).map(el => el.value);
    const situation = document.getElementById("situation").value;
    const detail = document.getElementById("detail").value;
    const region = document.getElementById("region").value;
    const district = document.getElementById("district").value;
    const city = document.getElementById("city").value;

    const data = {
        needs,
        situation,
        detail,
        location: { latitude, longitude },
        region,
        district,
        city,
        submittedAt: new Date().toISOString()
    };

    db.ref("submissions").push(data)
        .then(() => {
            alert("Data + Location + မြို့နယ်အချက်အလက်များ Firebase သို့ အောင်မြင်စွာ သိမ်းဆည်းပြီးပါပြီ ✅");
            document.getElementById("needForm").reset();
            showStep(1);
        })
        .catch(error => {
            console.error("Error:", error);
            alert("Save Failed ❌");
        });
});

let currentStep = 1;
function showStep(step) {
    document.querySelectorAll('.form-step').forEach((el, idx) => {
        el.classList.toggle('active', idx === step - 1);
    });
}

function nextStep() {
    const currentStepElement = document.querySelector('.form-step.active');
    const nextStepElement = currentStepElement.nextElementSibling;
    if (nextStepElement && nextStepElement.classList.contains('form-step')) {
        currentStepElement.classList.remove('active');
        nextStepElement.classList.add('active');
    }
}

function prevStep() {
    const currentStepElement = document.querySelector('.form-step.active');
    const prevStepElement = currentStepElement.previousElementSibling;
    if (prevStepElement && prevStepElement.classList.contains('form-step')) {
        currentStepElement.classList.remove('active');
        prevStepElement.classList.add('active');
    }
}

// ပထမဆုံး Step ကို စတင်ပြသရန်
const firstStep = document.getElementById('step1');
if (firstStep) {
    firstStep.classList.add('active');
}

function gotoKoBo() {
    window.location.href = "[https://ee.kobotoolbox.org/x/n0tgNJwm](https://ee.kobotoolbox.org/x/n0tgNJwm)";
}

// VPN Detect
fetch("[https://ipapi.co/json/](https://ipapi.co/json/)")
    .then(res => res.json())
    .then(data => {
        if (!["Myanmar", "Thailand"].includes(data.country_name)) {
            alert("VPN သုံးနေပါတယ်။ VPN ပိတ်ပါ။");
            window.location.href = "[https://google.com](https://google.com)";
        }
    })
    .catch(() => console.warn("VPN check failed"));
    </script>

</body>
</html>
